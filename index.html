<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>🎄 3秒真影片 - 專業版</title>
    <script src="coi-serviceworker.js"></script>
    <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.11.6/dist/ffmpeg.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h2>圖片轉 3 秒影片</h2>
    <p class="subtitle">設定浮水印、顏色與畫質，一鍵分享</p>

    <div class="input-group">
        <label>1. 選擇來源圖片</label>
        <input type="file" id="uploader" accept="image/*">
    </div>

    <div class="input-group">
        <label>2. 文字與外觀設定</label>
        <input type="text" id="videoText" value="禁止盜用" placeholder="輸入文字內容...">
        
        <div class="slider-box">
            <div class="color-row">
                <label>文字顏色</label>
                <input type="color" id="textColor" value="#ffffff">
                <span id="colorHex" style="font-size: 12px; color: #666;">#FFFFFF</span>
            </div>
            <div class="slider-row"><label>文字大小</label><input type="range" id="fontSize" min="20" max="250" value="80"><span class="val-display" id="fontSizeVal">80</span></div>
            <div class="slider-row"><label>左右位置</label><input type="range" id="posX" min="0" max="100" value="50"><span class="val-display" id="posXVal">50%</span></div>
            <div class="slider-row"><label>上下位置</label><input type="range" id="posY" min="0" max="100" value="50"><span class="val-display" id="posYVal">50%</span></div>
        </div>
    </div>

    <div class="input-group">
        <label>3. 輸出畫質</label>
        <select id="qualitySelect">
            <option value="480">480p (速度快)</option>
            <option value="720" selected>720p (推薦)</option>
            <option value="1080">1080p (高畫質)</option>
        </select>
    </div>

    <button id="convertBtn">生成影片</button>
    <p id="statusDisplay">系統準備就緒</p>

    <div class="preview-box" id="previewBox">
        <video id="videoPreview" controls loop></video>
        <div class="button-grid">
            <a id="downloadLink" class="btn-action download">⬇️ 下載影片</a>
            <button id="shareBtn" class="btn-action share">📤 系統分享</button>
            <button id="twitterBtn" class="btn-action twitter">𝕏 分享文字至 X</button>
        </div>
        <p style="font-size: 11px; color: #8e8e93; text-align: center; margin-top: 10px;">
            提示：若 X 未出現在系統分享中，請先下載影片後再點擊 X 按鈕貼上文字。
        </p>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
